<!DOCTYPE html>
<html>
<head>
  <title>Product Marketplace</title>
</head>
<body>
  <h1>Product Marketplace</h1>
  
  <h2>All Products</h2>
  <button onclick="getAllProducts()">Get All Products</button>
  <div id="allProducts">
    <!-- Display products here -->
  </div>
  
  <h2>Product Details</h2>
  <input type="text" id="productId" placeholder="Enter Product ID">
  <button onclick="getProduct()">Get Product</button>
  <div id="productDetails">
    <!-- Display product details here -->
  </div>
  
  <h2>Add Product</h2>
  <input type="text" id="productName" placeholder="Enter Product Name">
  <input type="text" id="productDescription" placeholder="Enter Product Description">
  <input type="number" id="productPrice" placeholder="Enter Product Price">
  <input type="number" id="productQuantity" placeholder="Enter Product Quantity">
  <input type="text" id="productCategory" placeholder="Enter Product Category">
  <button onclick="addProduct()">Add Product</button>
  
  <script>
    function getAllProducts() {
      fetch('/api/products')
        .then(response => response.json())
        .then(products => {
          const allProductsDiv = document.getElementById('allProducts');
          allProductsDiv.innerHTML = '';
          products.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.textContent = `${product.name}: $${product.price}`;
            allProductsDiv.appendChild(productDiv);
          });
        })
        .catch(error => console.error(error));
    }
  
    function getProduct() {
      const productId = document.getElementById('productId').value;
      fetch(`/api/products/${productId}`)
        .then(response => response.json())
        .then(product => {
          const productDetailsDiv = document.getElementById('productDetails');
          productDetailsDiv.textContent = `Name: ${product.name}, Price: $${product.price}`;
        })
        .catch(error => console.error(error));
    }
  
    function addProduct() {
      const productName = document.getElementById('productName').value;
      const productDescription = document.getElementById('productDescription').value;
      const productPrice = document.getElementById('productPrice').value;
      const productQuantity = document.getElementById('productQuantity').value;
      const productCategory = document.getElementById('productCategory').value;
  
      const newProduct = {
        name: productName,
        description: productDescription,
        price: productPrice,
        quantity: productQuantity,
        category: productCategory
      };
  
      fetch('/api/products/add', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(newProduct)
      })
        .then(response => response.json())
        .then(product => console.log('Added new product:', product))
        .catch(error => console.error(error));
    }
  </script>
</body>
</html>